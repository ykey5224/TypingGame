# typingGame

Typing Game with Vanilla JS for KAKAOPAY

## Install

npm install

## Build

npm run build

## Start

npm start

## 기능 구현

- [x] 페이지를 접속하면 게임 화면을 표시한다.
- [x] 남은 시간 : 각 단어는 제한 시간이 존재하며, 단어별 남은 시간을 표시한다.
- [x] 점수 : 총 문제 수를 점수로 하여 시간 만료 시 1점씩 삭감하는 형태로 한다.
- [x] 단어 표시 : 제시된 단어를 표시한다.
- [x] 입력 : 단어를 입력할 수 있는 input box를 표시한다
- [x] 시작 : 게임을 시작할 수 있는 버튼을 표시한다.
- [x] 모든 게임이 완료되면 완료 화면으로 이동한다
- [x] 현재까지 획득한 점수를 표시한다.
- [x] 단어 당 해결 답변(해결) 시간을 표시한다.
- [x] "다시 시작" 버튼을 통해 게임 화면을 다시 표시하여 게임을 다시 시작한다

## 과제 요구사항

- [x] webpack 환경을 구성
- [x] 모든 구현은 vanila javascript(es5, es6, typescript도 가능)로 구현한다
- [x] 게임 화면과 완료 화면은 routing을 통하여 이동한다. (라우터 직접 구현 - 구현방법은 자율)
- [x] 단위 테스트 적용 - 단위테스트 html을 만들어서 점수/평균 시간 계산 확인
- [x] 단어는 서버에 요청하여 받아 온다.

# 해결 전략
1. Game의 구성

- game은 N개의 stage로 구성되어있습니다. (N은 api에서 호출한 단어의 갯수)
- game이 시작되면 첫번째 stage가 시작되고 모든 stage가 완료될때까지 splayState() 함수가 재귀됩니다.
- 시간이 만료되거나, input에 정답과 enter가 입력되면 다음 stage가 호출됩니다.
- 계산된 점수와 평균 시간값은 state에 담아서 라우팅한 페이지(결과 페이지)에서 점수, 평균 답변 시간값을 출력합니다.

2. 스테이지의 진행 방식

- timeInterval을 이용하여 1초 간격으로 남은 시간을 차감합니다.
- 남은 시간이 0초가 되면 다음 stage 실행을하기위해 playState()를 재귀호출합니다.
- 또한 정답 입력후 엔터키를 입력하면 즉시 timeInterval을 clear 하고 다음 stage 실행을 위해 plateStage()를 재귀호출합니다.
- 모든 스테이지가 진행될때까지 playState()를 재귀합니다.
- 점수는 총 문제 수를 점수로 하여 시간 만료 시 1점씩 차감합니다.
- 평균 답변 시간은 답변에 소요된 총 시간 / 정답으로 입력된 단어 수 로 계산합니다.
- 점수와 평균 답변 시간은 state에 담아서 결과화면으로 라우팅합니다.
- 초기화 버튼을 누르면 홈화면(/)으로 라우팅 하여 초기 화면을 표시합니다.

3. 결과 화면

- history state에 저장되어있는 데이터로 점수와 평균 답변 시간을 출력합니다.
- 다시하기 버튼을 누르면 'restart' 값을 state에 담아서 메인 화면(/) 으로 라우팅합니다.
- 메인 화면(/)은 sate의 값이 'restart'일 경우 바로 게임을 시작하도록 합니다.

4. 라우터 구현

- 게임 화면의 초기화, 결과 화면 이동, 결과화면에서의 다시시작 버튼 이벤트에서 화면 이동을 위해 라우터를 사용합니다.
- history API 를 이용하여 구현하였습니다.
- pushState를 이용하여 입력한 path로 이동하였으며 점수, 평균 시간, 재시작 버튼 여부를 state에 담아서 처리하였습니다.

5. 단위 테스트 
- 많은 DOM 접근, 함수들의 연결이 독립적이지 않아 별도의 테스트 페이지를 만들어서 테스트하였습니다.(/test/test.html)
- 임의의 단어, 제한 시간 리스트로 테스트 하였으며 점수 계산, 평균 답변 시간을 테스트 하였습니다.
- 원본 코드와 달리 화면 이동이 없기 때문에 cookie에 값을 저장하여 확인합니다.


